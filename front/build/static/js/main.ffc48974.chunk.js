(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{160:function(e,t,r){},300:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r.n(a),o=r(12),s=r.n(o),i=(r(160),r(15)),u=r(37),l=r(8),d=r(22),b=r.n(d),j=r(41),p="AGREGAR_USUARIO",O="AGREGAR_USUARIO_EXITO",m="AGREGAR_USUARIO_ERROR",f="COMENZAR_DESCARGA_USUARIOS",h="DESCARGA_USUARIOS_EXITO",x="DESCARGA_USUARIOS_ERROR",v="OBTENER_USUARIO_ELIMINAR",g="USUARIO_ELIMINADO_EXITO",y="USUARIO_ELIMINADO_ERROR",N="OBTENER_USUARIO_EDITAR",E="COMENZAR_EDICION_USUARIO",w="USUARIO_EDITAR_EXITO",R="USUARIO_EDITAR_ERROR",S="MOSTRAR_ALERTA",C="OCULTAR_ALERTA",_="INICIAR_SESION",A="INICIANDO_COOKIE",I="ELIMINANDO_COOKIE",k="CERRAR_SESION",U=r(138),T=r.n(U).a.create({baseURL:"http://localhost:5000/"}),D=r(21),L=r.n(D),B=r(20),F=new B.a;var G=function(){return{type:p,payload:!0}},H=function(e,t){return{type:O,payload:t}},M=function(e){return{type:m,payload:e}};function P(){return function(){var e=Object(j.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(V()),e.prev=1,e.next=4,T.get("usuarios");case 4:r=e.sent,t(X(r.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),t(W());case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}var V=function(){return{type:f,payload:!0}},X=function(e){return{type:h,payload:e}},W=function(){return{type:x,payload:!0}};var q=function(e){return{type:v,payload:e}},J=function(){return{type:g}},K=function(){return{type:y,payload:!0}};var Z=function(e){return{type:N,payload:e}};var z=function(){return{type:E}},Y=function(e){return{type:w,payload:e}},Q=function(){return{type:R,payload:!0}};function $(e,t){return function(){var r=Object(j.a)(b.a.mark((function r(n){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{n({type:_,payload:e}),n(ee(t))}catch(a){console.log(a),L.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"})}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var ee=function(e){return{type:A,payload:e}};var te=function(e){return{type:k,payload:e}},re=function(){return{type:I}},ne=function(){var e=Object(i.f)(),t=Object(l.b)();return Object(n.jsx)("div",{children:Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary justify-content-between",children:[Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("h1",{children:[Object(n.jsx)(u.b,{to:"/usuarios",className:"text-light",children:"Proyecto Facultad"})," "]})}),Object(n.jsxs)(u.b,{to:"/estadisticaEdad",className:"btn btn-danger nuevo-post d-block d-md-incline-block mr-3 ",children:["Ver Estadistica"," "]}),Object(n.jsx)(u.b,{to:"/usuarios/nuevo",className:"btn btn-danger nuevo-post d-block d-md-incline-block mr-3 ",children:"Agregar Usuario +"}),Object(n.jsx)("button",{onClick:function(){e.push("/"),alert("Redirigiendo"),t((function(e){console.log("desde eliminar "+F.get("id")),F.get("id")&&(F.remove("id",{path:"/"}),e(te(!1)),e(re()))}))},className:"btn btn-danger nuevo-post d-block d-md-incline-block ",children:"Cerrar Sesion"})]})})},ae=r(75),ce=new B.a,oe=function(e){var t=e.usuario,r=Object(l.b)(),a=Object(i.f)(),c=function(e){L.a.fire({title:"Estas seguro de eliminar?",text:"No se podra recuperar el cliente!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"SI",cancelButtonText:"NO"}).then((function(t){t.isConfirmed&&(ce.get("id")===e?L.a.fire({icon:"error",title:"Usuario en uso"}):r(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(q(e)),console.log(e),t.prev=2,t.next=5,T.delete("usuarios/".concat(e));case 5:r(J()),L.a.fire("Eliminado!","El usuario fue eliminado.","success"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),r(K());case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()}(e)))}))},o=function(e){r(function(e){return function(t){t(Z(e)),console.log(e._id)}}(e)),a.push("/usuarios/editar/".concat(e._id))},s=[t];return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.nombre}),Object(n.jsx)("td",{children:t.correo}),Object(n.jsxs)("td",{className:"acciones",children:[Object(n.jsx)("button",{type:"button",onClick:function(){return o(t)},className:"btn btn-primary mr-2",children:"Editar"}),Object(n.jsx)("button",{type:"button",className:"btn btn-danger mr-2",onClick:function(){return c(t._id)},children:"Eliminar"}),Object(n.jsx)(ae.CSVLink,{className:"btn btn-primary",data:s,filename:"".concat(t.nombre,".csv"),children:"Exportar a CSV"})]})]})})},se=new B.a,ie=function(e){var t=e.history,r=Object(l.b)();Object(a.useEffect)((function(){se.get("id")||(t.push("/"),r($(!1,null))),setTimeout((function(){c()}),100)}),[]);var c=function(){return r(P())},o=Object(l.c)((function(e){return e.usuarios.usuarios})),s=Object(l.c)((function(e){return e.usuarios.error})),i=Object(l.c)((function(e){return e.usuarios.loading})),u=[o.map((function(e){return e.nombre}))];return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("h2",{className:"text-center my-5",children:"Listado de Usuarios"}),s?Object(n.jsx)("p",{className:"font-weight-bold alert alert-danger text-center mt-4",children:"Hubo un error"}):null,i?Object(n.jsx)("p",{className:"text-center",children:"cargando..."}):null,Object(n.jsxs)("table",{className:"table table-striped",children:[Object(n.jsx)("thead",{className:"bg-primary table-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Nombre"}),Object(n.jsx)("th",{scope:"col",children:"Correo"}),Object(n.jsx)("th",{scope:"col",children:"Acciones"})]})}),0===o.length?"no hay usuarios":o.map((function(e){return Object(n.jsx)(oe,{usuario:e},e._id)}))]}),Object(n.jsx)(ae.CSVLink,{className:"btn btn-primary",data:u,filename:"usuarios.csv",children:"Descargar listado de usuarios"})]})},ue=r(27),le=r(335),de=r(346);var be=function(e){return{type:S,payload:e}};var je=function(){return{type:C}},pe=new B.a,Oe=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(ue.a)(r,2),o=c[0],s=c[1],i=Object(a.useState)(""),u=Object(ue.a)(i,2),d=u[0],p=u[1],O=Object(a.useState)(""),m=Object(ue.a)(O,2),f=m[0],h=m[1],x=Object(a.useState)(""),v=Object(ue.a)(x,2),g=v[0],y=v[1],N=Object(l.b)(),E=Object(l.c)((function(e){return e.usuarios.loading})),w=Object(l.c)((function(e){return e.usuarios.error})),R=Object(l.c)((function(e){return e.alerta.alerta})),S=Object(l.c)((function(e){return e.alerta.iniciarSesion})),C=function(e){return N(function(e){return function(){var t=Object(j.a)(b.a.mark((function t(r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(G()),t.prev=1,t.next=4,T.post("usuarios",e);case 4:n=t.sent,r(H(e,n.data)),L.a.fire("Correcto","El usuario se agrego correctamente","success"),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0.response.data),r(M(!0)),L.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"});case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Agregar nuevo usuario"}),R?Object(n.jsx)("p",{className:R.clases,children:R.msg}):null,Object(n.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""!==o.trim()&&0!==g&&""!==d.trim()&&""!==f.trim())N((function(e){e(je())})),C({nombre:o,correo:d,password:f,edad:g}),pe.get("id")?t.push("/"):t.push("/usuarios");else{N(function(e){return function(t){t(be(e))}}({msg:"Ambos campos son obligatorios",clases:"alert alert-danger text-center text-uppercase p3"}))}},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" Nombre Usuario"}),Object(n.jsx)("input",{type:"text",className:"form-control ",placeholder:"Nombre usuario",name:"nombre",value:o,onChange:function(e){return s(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" Edad"}),Object(n.jsx)("input",{type:"number",className:"form-control ",placeholder:"Edad",name:"edad",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" Correo"}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Correo",name:"correo",value:d,onChange:function(e){return p(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:f,onChange:function(e){return h(e.target.value)}})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Agregar"}),Object(n.jsx)("br",{}),S?null:Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase  ",onClick:function(){t.push("/")},children:"Volver"})})]}),Object(n.jsxs)("div",{className:"container text-center mt-5  ",children:[E?Object(n.jsx)(le.a,{type:"grow",color:"primary"}):null,w?Object(n.jsx)(de.a,{color:"danger",children:"Hubo un error de conexion con el servidor!"}):null]})]})})})})},me=r(16),fe=r(7),he=new B.a,xe=function(){var e=Object(l.c)((function(e){return e.usuarios.error})),t=Object(i.f)(),r=Object(a.useState)({nombre:"",correo:"",id:""}),c=Object(ue.a)(r,2),o=c[0],s=c[1],u=Object(l.c)((function(e){return e.usuarios.productoeditar})),d=Object(l.b)();Object(a.useEffect)((function(){he.get("id")||(t.push("/"),d($(!1,null))),s(u)}),[u]);var b=function(e){s(Object(fe.a)(Object(fe.a)({},o),{},Object(me.a)({},e.target.name,e.target.value)))},j=o.nombre,p=o.correo;return Object(n.jsx)("div",{className:"row justify-content-center",children:Object(n.jsx)("div",{className:"col-md-8",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h2",{className:"text-center mb-4 font-weight-bold",children:"Editar producto"}),Object(n.jsxs)("form",{onSubmit:function(r){r.preventDefault(),d(function(t){return function(r){r(z());try{T.put("usuarios/".concat(t._id),t),r(Y()),L.a.fire("Correcto","El usuario se modifico correctamente","success")}catch(e){console.log(e),r(Q()),L.a.fire({icon:"error",title:"Hubo un error",text:"Hubo un error, intenta de nuevo"})}}}(o)),t.push("/")},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" Nombre"}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",onChange:b,name:"nombre",value:j})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:" correo"}),Object(n.jsx)("input",{type:"text",className:"form-control",placeholder:"Correo",onChange:b,name:"correo",value:p})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold text-uppercase d-block w-100",children:"Guardar cambios"})]}),Object(n.jsx)("div",{className:"container text-center mt-5  ",children:e?Object(n.jsx)(de.a,{color:"danger",children:"Hubo un error de conexion con el servidor!"}):null})]})})})})},ve=r(143),ge=new B.a;function ye(e){var t=e.history,r=Object(a.useState)([]),c=Object(ue.a)(r,2),o=c[0],s=c[1],i=Object(a.useState)([]),u=Object(ue.a)(i,2),d=u[0],b=u[1],j=Object(l.b)();Object(a.useEffect)((function(){ge.get("id")||(t.push("/"),j($(!1,null))),setTimeout((function(){O(),m()}),100)}),[]);var p=Object(l.c)((function(e){return e.usuarios.usuarios})),O=function(){j(P());var e=[],t=[];p.map((function(r){e.push(r.nombre),t.push(r.edad)})),s(e),b(t)},m=function(){var e=d.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{});console.log(e)},f={labels:o,datasets:[{label:"Edad",backgroundColor:"rgba(0,255,0,1)",bordercolor:"black",borderWidth:1,hoverBackgroundColor:"rgba(0,255,0,0.2)",hoverBorderColor:"#FFF000",data:d}]};return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{className:"text-center mb-3",children:"Edad "}),Object(n.jsx)(ve.a,{data:f,option:{maintainAspectRatio:!1,responsive:!0}})]})}var Ne=r(349),Ee=r(345),we=r(341),Re=r(343),Se=r(338),Ce=r(342),_e=r(344),Ae=r(340),Ie=r(141),ke=r.n(Ie),Ue=r(302),Te=r(339),De=new B.a;function Le(){return Object(n.jsxs)(Ue.a,{variant:"body2",color:"textSecondary",align:"center",children:["Juan Funes \xa9 ",Object(n.jsx)(Se.a,{color:"inherit",href:"https://www.linkedin.com/in/juan-funes-90ba901b2/",children:"Sitio Web"})," ",(new Date).getFullYear(),"."]})}var Be=Object(Te.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Fe(e){var t=e.history,r=Object(l.b)(),c=Object(a.useState)({correo:"",password:""}),o=Object(ue.a)(c,2),s=o[0],i=o[1];Object(a.useEffect)((function(){De.get("id")&&(t.push("/usuarios"),r($(!0,De.get("id"))))}),[]);var u=function(){var e=Object(j.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T.post("/auth",s).then((function(e){De.set("id",e.data._id,{path:"/"}),t.push("/usuarios"),r($(!0,De.get("id"))),L.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",L.a.stopTimer),e.addEventListener("mouseleave",L.a.resumeTimer)}}).fire({icon:"success",title:"Hola ".concat(e.data.nombre)})})).catch((function(e){alert("Nombre o Contrase\xf1a son incorrectos"),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(Object(fe.a)(Object(fe.a)({},s),{},Object(me.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=s.correo,O=s.password,m=Be();return Object(n.jsxs)(Ae.a,{container:!0,component:"main",className:m.root,children:[Object(n.jsx)(we.a,{}),Object(n.jsx)(Ae.a,{item:!0,xs:!1,sm:4,md:7,className:m.image}),Object(n.jsx)(Ae.a,{item:!0,xs:12,sm:8,md:5,component:Ce.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:m.paper,children:[Object(n.jsx)(Ne.a,{className:m.avatar,children:Object(n.jsx)(ke.a,{})}),Object(n.jsx)(Ue.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:m.form,noValidate:!0,onSubmit:u,children:[Object(n.jsx)(Re.a,{type:"correo",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"correo",label:"Correo",name:"correo",autoComplete:"correo",autoFocus:!0,value:p,onChange:d}),Object(n.jsx)(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O,onChange:d}),Object(n.jsx)(Ee.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:m.submit,children:"Ingresar"}),Object(n.jsx)(Ae.a,{container:!0,children:Object(n.jsx)(Ae.a,{item:!0,children:Object(n.jsx)(Se.a,{href:"/usuarios/nuevo",variant:"body2",children:"No tienes una cuenta? , crea una"})})}),Object(n.jsx)(_e.a,{mt:5,children:Object(n.jsx)(Le,{})})]})]})})]})}var Ge=r(40),He=r(142),Me=r(17),Pe={usuarios:[],error:null,loading:!1,productoEliminar:null,productoeditar:null,iniciarSesion:!1,cookie:null};var Ve={alerta:null};var Xe=Object(Ge.c)({usuarios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case p:return Object(fe.a)(Object(fe.a)({},e),{},{loading:t.payload});case O:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,usuarios:[].concat(Object(Me.a)(e.usuarios),[t.payload])});case x:case m:case y:case R:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case h:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:null,usuarios:t.payload});case v:return Object(fe.a)(Object(fe.a)({},e),{},{productoEliminar:t.payload});case g:return Object(fe.a)(Object(fe.a)({},e),{},{usuarios:e.usuarios.filter((function(t){return t._id!==e.productoEliminar})),productoEliminar:null});case N:case E:return Object(fe.a)(Object(fe.a)({},e),{},{productoeditar:t.payload});case w:return Object(fe.a)(Object(fe.a)({},e),{},{productoeditar:null,usuarios:e.usuarios.map((function(e){return e===t.payload?e=t.payload:e}))});case _:return Object(fe.a)(Object(fe.a)({},e),{},{iniciarSesion:t.payload});case A:return Object(fe.a)(Object(fe.a)({},e),{},{cookie:t.payload});case k:return Object(fe.a)(Object(fe.a)({},e),{},{iniciarSesion:t.payload});case I:return Object(fe.a)(Object(fe.a)({},e),{},{cookie:null});default:return e}},alerta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(fe.a)(Object(fe.a)({},e),{},{alerta:t.payload});case C:return Object(fe.a)(Object(fe.a)({},e),{},{alerta:null});default:return e}}}),We=Object(Ge.e)(Xe,Object(Ge.d)(Object(Ge.a)(He.a),"undefined"!==typeof window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));var qe=function(){var e=Object(l.c)((function(e){return e.usuarios.cookie}));return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(i.a,{exact:!0,path:"/",component:Fe}),Object(n.jsxs)(l.a,{store:We,children:[e?Object(n.jsx)(ne,{}):null,Object(n.jsx)("div",{className:"container mt-5",children:Object(n.jsxs)(i.c,{children:[Object(n.jsx)(i.a,{exact:!0,path:"/usuarios",component:ie}),Object(n.jsx)(i.a,{exact:!0,path:"/estadisticaEdad",component:ye}),Object(n.jsx)(i.a,{exact:!0,path:"/usuarios/editar/:id",component:xe})]})})]}),Object(n.jsx)(i.a,{exact:!0,path:"/usuarios/nuevo",component:Oe})]})},Je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,350)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(l.a,{store:We,children:Object(n.jsx)(qe,{})})}),document.getElementById("root")),Je()}},[[300,1,2]]]);
//# sourceMappingURL=main.ffc48974.chunk.js.map